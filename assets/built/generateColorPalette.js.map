{"version":3,"file":"generateColorPalette.js","sources":["../../src/js/generateColorPalette.js"],"sourcesContent":["// From CSS Tricks\nfunction hexToRgb(H) {\n  // Convert hex to RGB first\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  if (H.length === 4) {\n    r = `0x${H[1]}${H[1]}`;\n    g = `0x${H[2]}${H[2]}`;\n    b = `0x${H[3]}${H[3]}`;\n  } else if (H.length === 7) {\n    r = `0x${H[1]}${H[2]}`;\n    g = `0x${H[3]}${H[4]}`;\n    b = `0x${H[5]}${H[6]}`;\n  }\n  return [r, g, b];\n}\n\nfunction rgbToHSL(rgb) {\n  const [r, g, b] = rgb;\n\n  // Then to HSL\n  const sr = r / 255;\n  const sg = g / 255;\n  const sb = b / 255;\n\n  const cmin = Math.min(sr, sg, sb);\n  const cmax = Math.max(sr, sg, sb);\n  const delta = cmax - cmin;\n  let h = 0;\n  let s = 0;\n  let l = 0;\n\n  if (delta === 0) {\n    h = 0;\n  } else if (cmax === sr) {\n    h = ((sg - sb) / delta) % 6;\n  } else if (cmax === sg) {\n    h = (sb - sr) / delta + 2;\n  } else {\n    h = (sr - sg) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  l = (cmax + cmin) / 2;\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n  s = +(s * 100).toFixed(1);\n  l = +(l * 100).toFixed(1);\n\n  return [h, s, l, parseInt(r), parseInt(g), parseInt(b)];\n}\n\nfunction generateColorPalette() {\n  const [r, g, b] = document.documentElement.dataset.accentColor\n    ? hexToRgb(document.documentElement.dataset.accentColor)\n    : hexToRgb('#ff0000');\n\n  const [h, s, l] = rgbToHSL([r, g, b]);\n\n  const complementaryColor = h + 180 > 360 ? h - 180 : h + 180;\n  document.documentElement.style.setProperty('--primary-h', h);\n  document.documentElement.style.setProperty('--saturation', `${s}%`);\n  document.documentElement.style.setProperty('--lightness', `${l}%`);\n  document.documentElement.style.setProperty(\n    '--complementary-color',\n    complementaryColor,\n  );\n  document.documentElement.style.setProperty('--r', r / 255);\n  document.documentElement.style.setProperty('--g', g / 255);\n  document.documentElement.style.setProperty('--b', b / 255);\n  document.documentElement.style.setProperty('--cr', (255 - r) / 255);\n  document.documentElement.style.setProperty('--cg', (255 - g) / 255);\n  document.documentElement.style.setProperty('--cb', (255 - b) / 255);\n}\n\ngenerateColorPalette();\n"],"names":[],"mappings":"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"}