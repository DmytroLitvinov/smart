{"version":3,"file":"app.js","sources":["../js/app/colorModeToggle.js","../js/app/copy.js","../js/app/saves.js","../js/app/clickHandler.js","../js/app/keyHandler.js","../js/app/pagination.js","../js/app/navbarAnimation.js","../js/app/app.js"],"sourcesContent":["/*\n * Color mode toggle\n */\n\nexport function toggleColorMode(color) {\n  document.documentElement.setAttribute('data-color-pref', color);\n  localStorage.setItem('pref', color);\n}\n\nexport function determineColorModeSupport() {\n  const colorPrefButtons = document.querySelectorAll('.sm-dark-mode, .sm-light-mode');\n\n  const hasSupport = window.CSS && CSS.supports('color', 'var(--primary)');\n\n  // If the browser doesn't support custom settings, hide buttons\n  if (!hasSupport) {\n    colorPrefButtons.forEach((e) => {\n      e.style.display = 'none';\n    });\n  }\n}\n","function updateCopyButtonState() {\n  const copyButtons = document.querySelectorAll('.sm-copy-button');\n  copyButtons.forEach((el) => {\n    const copyButton = el;\n    const currentState = copyButton.innerHTML;\n    copyButton.innerHTML =\n      '<svg viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M6 4v4h12V4h2.007c.548 0 .993.445.993.993v16.014a.994.994 0 0 1-.993.993H3.993A.994.994 0 0 1 3 21.007V4.993C3 4.445 3.445 4 3.993 4H6zm2-2h8v4H8V2z\"/></svg> Copied âœ…';\n    setTimeout(() => {\n      copyButton.innerHTML = currentState;\n    }, 3000);\n  });\n}\nexport default async function copyToClipboard() {\n  const currentURL = window.location.href;\n  await navigator.clipboard.writeText(currentURL);\n  updateCopyButtonState();\n}\n","export class Saves {\n  constructor(e) {\n    this.id = (e && e.dataset.id) || null;\n    this.title = (e && e.dataset.title) || null;\n    this.items = () =>\n      Saves.makeArray(JSON.parse(localStorage.getItem('saves')));\n    this.int = null;\n  }\n\n  generateItem() {\n    return {\n      id: this.id,\n      title: this.title,\n      timestamp: new Date(),\n      scrollPos: this.scrollStatus().scrollPos,\n      progress: this.scrollStatus().progress,\n    };\n  }\n\n  save() {\n    localStorage.setItem(\n      'saves',\n      JSON.stringify([this.generateItem(), ...this.items()]),\n    );\n\n    this.populateSavesMenu();\n    this.updateScrollPosition();\n\n    const els = document.querySelectorAll(`button[data-id=${this.id}]`);\n    els.forEach((el) => {\n      el.classList.add('sm-love-toggle');\n    });\n  }\n\n  remove() {\n    const items = [...this.items()];\n    const itemIndex = items.findIndex((el) => this.id === el.id);\n    items.splice(itemIndex, 1);\n    localStorage.removeItem('saves');\n    if (items.length) {\n      localStorage.setItem('saves', JSON.stringify(items));\n    }\n\n    this.int = null;\n    this.populateSavesMenu();\n\n    const els = document.querySelectorAll(`button[data-id=${this.id}]`);\n    els.forEach((el) => {\n      el.classList.remove('sm-love-toggle');\n    });\n  }\n\n  static makeArray(data) {\n    if (!data) return [];\n    return data.length ? data : [data];\n  }\n\n  scrollStatus() {\n    if (this.isCurrentPageSaved() < 0) {\n      return {\n        scrollPos: null,\n        progress: null,\n      };\n    }\n    return {\n      scrollPos: window.scrollY,\n      progress: Math.round(\n        (window.scrollY /\n          (document.body.scrollHeight - document.body.clientHeight)) *\n          100,\n      ),\n    };\n  }\n\n  identifySaves() {\n    if (!this.items()) return;\n\n    this.items().forEach((el) => {\n      const { id } = el;\n      const domEl = document.querySelectorAll(`button[data-id=${id}]`);\n      if (domEl) {\n        domEl.forEach((button) => button.classList.add('sm-love-toggle'));\n      }\n    });\n  }\n\n  isCurrentPageSaved() {\n    const currentPage = window.location.pathname.replace(/\\//g, '');\n    return this.items().findIndex((item) => item.id === currentPage);\n  }\n\n  step() {\n    const itemIndex = this.isCurrentPageSaved();\n    if (itemIndex < 0) {\n      return;\n    }\n\n    const items = this.items();\n    items[itemIndex].progress = this.scrollStatus().progress;\n    items[itemIndex].scrollPos = this.scrollStatus().scrollPos;\n    localStorage.removeItem('saves');\n    localStorage.setItem('saves', JSON.stringify(items));\n    this.populateSavesMenu();\n\n    setTimeout(() => {\n      window.requestAnimationFrame(this.step.bind(this));\n    }, 1000);\n  }\n\n  updateScrollPosition() {\n    const items = this.items();\n    if (!items.length) return;\n    const itemIndex = this.isCurrentPageSaved();\n\n    if (itemIndex < 0) {\n      return;\n    }\n\n    window.requestAnimationFrame(this.step.bind(this));\n  }\n\n  scrollToPos() {\n    if (this.isCurrentPageSaved() > -1) {\n      const items = this.items();\n      window.scrollTo({\n        top: items[this.isCurrentPageSaved()].scrollPos,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  renderSavesMenu() {\n    const template = this.items().map(\n      (el) =>\n        `<div class=\"sm-saves\" style=\"background-image: linear-gradient(to right, hsla(\n          var(--primary-h) var(--saturation) var(--lightness) / ${\n            el.progress ? 0.35 : 0.15\n          }\n        ) ${el.progress ? el.progress - 10 : 50}%, hsla(\n          var(--primary-h) var(--saturation) var(--lightness) / 0.15\n        ) ${el.progress ? el.progress + 10 : 50}%\">\n            <div class=\"sm-saves-meta\">\n                <div>\n                    <p class=\"sm-saves-title\"><a href=\"/${el.id}\">${\n          el.title\n        }</a></p>\n                    <p class=\"sm-saves-date\">Saved on ${new Intl.DateTimeFormat().format(\n                      new Date(el.timestamp),\n                    )}</p>\n                </div>\n                <button class=\"sm-circle-icon-button sm-love-button sm-love-toggle\" data-id=\"${\n                  el.id\n                }\" data-title=\"${el.title}\" aria-label=\"Remove ${\n          el.title\n        } from favorites\">\n                <span class=\"sm-heart-outline-icon\">\n                <svg><use href=\"#sm-heart-outline-icon\"></use></svg>\n                </span>\n                <span class=\"sm-heart-fill-icon\">\n                <svg><use href=\"#sm-heart-fill-icon\"></use></svg>\n                </span>\n                </button>\n            </div>\n        </div>`,\n    );\n    return template.join('');\n  }\n\n  populateSavesMenu() {\n    const savesMenu = document.querySelector('.sm-overflow-articles');\n    const navSavesMenu = document.querySelector('.sm-nav-menu-saves');\n\n    if (!this.items().length) {\n      const noSavesText =\n        '<p>No articles saved yet. Hit the heart to get started!</p>';\n      savesMenu.innerHTML = noSavesText;\n      navSavesMenu.innerHTML = noSavesText;\n      return;\n    }\n    savesMenu.innerHTML = this.renderSavesMenu();\n    navSavesMenu.innerHTML = this.renderSavesMenu();\n  }\n\n  init() {\n    this.identifySaves();\n    this.populateSavesMenu();\n    this.scrollToPos();\n    this.updateScrollPosition();\n  }\n}\n\nexport function save(e) {\n  const savedItems = new Saves(e);\n\n  const items = savedItems.items();\n\n  if (!items.length) {\n    savedItems.save();\n    return;\n  }\n\n  const { id } = savedItems;\n\n  if (items.find((el) => el.id === id)) {\n    savedItems.remove();\n  } else {\n    savedItems.save();\n  }\n}\n","import { toggleColorMode } from './colorModeToggle';\nimport copyToClipboard from './copy';\nimport { save } from './saves';\n\nfunction handleClick(e) {\n  if (e.target.closest('.sm-navbar-menu-button')) {\n    document\n      .querySelector('.sm-nav-menu-container')\n      .classList.add('sm-show-menu');\n  }\n\n  if (e.target.closest('.sm-love-button')) {\n    save(e.target.closest('.sm-love-button'));\n    // e.target.closest('.sm-love-button').classList.toggle('sm-love-toggle');\n    return;\n  }\n\n  if (e.target.closest('.sm-nav-menu-close-button')) {\n    document\n      .querySelector('.sm-nav-menu-container')\n      .classList.remove('sm-show-menu');\n  }\n\n  // if (e.target.closest('.sm-search-button')) {\n  //   document.querySelector('.sm-search').classList.add('sm-show-search');\n  //   document.querySelector('#sm-search-input').focus();\n  //   return;\n  // }\n\n  // if (e.target.closest('.sm-search-form-close-button')) {\n  //   document.querySelector('.sm-search').classList.remove('sm-show-search');\n  //   return;\n  // }\n\n  // if (e.target.closest('.sm-clear-search-button')) {\n  //   document.querySelector('.sm-search-form input').value = '';\n  //   document.querySelector('.sm-search-results-container').innerHTML = '';\n  //   document\n  //     .querySelector('.sm-clear-search-button')\n  //     .classList.remove('sm-show-clear-button');\n  //   document.querySelector('.sm-search-form input').focus();\n  //   return;\n  // }\n\n  if (e.target.closest('.sm-copy-button')) {\n    copyToClipboard();\n    return;\n  }\n\n  if (e.target.closest('.sm-dark-mode')) {\n    toggleColorMode('dark');\n    return;\n  }\n\n  if (e.target.closest('.sm-light-mode')) {\n    toggleColorMode('light');\n    return;\n  }\n\n  if (e.target.closest('.sm-follow-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-follow').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-share-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-share').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-saves-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-saves').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-overflow-back')) {\n    e.target\n      .closest('.sm-overflow-back')\n      .parentElement.classList.remove('sm-show');\n    document.querySelector('.sm-overflow-buttons').classList.remove('sm-hide');\n    return;\n  }\n\n  if (e.target.closest('.sm-overflow-button')) {\n    document.querySelector('.sm-overflow-menu').classList.toggle('sm-show');\n    return;\n  }\n\n  if (e.target.tagName === 'A' && e.target.closest('.sm-overflow-menu')) {\n    return;\n  }\n\n  if (\n    document.querySelector('.sm-overflow-menu').classList.contains('sm-show')\n  ) {\n    e.preventDefault();\n    document.querySelector('.sm-overflow-menu').classList.remove('sm-show');\n  }\n}\n\nexport default function eventHandler() {\n  document.body.addEventListener('click', handleClick);\n}\n","function handleClick(e) {\n  if (e.code === 'Escape') {\n    document.querySelector('[class*=show]');\n  }\n}\n\nexport default function keyClickHandler() {\n  document.body.addEventListener('keyup', handleClick);\n}\n","function pathnameParser(pathname) {\n  if (!/page/.test(pathname)) {\n    return pathname;\n  }\n\n  return pathname.split('page')[0];\n}\n\nfunction navButtonFormatter(nextOrPrevEl, nextOrPrevName, paginationEl) {\n  const icon = nextOrPrevName === 'previous' ? 'left' : 'right';\n  const className = nextOrPrevName === 'previous' ? 'sm-prev' : 'sm-next';\n\n  const navButton = nextOrPrevEl\n    ? document.createElement('a')\n    : document.createElement('span');\n  navButton.innerHTML = `<svg aria-hidden=\"true\"><use href=\"#sm-${icon}-arrow-icon\"></use></svg>`;\n  navButton.classList.add('sm-circle-icon-button', className);\n\n  if (nextOrPrevEl) {\n    navButton.setAttribute('aria-label', `${nextOrPrevName} posts`);\n    navButton.setAttribute('href', nextOrPrevEl);\n  } else {\n    navButton.classList.add('sm-circle-icon-button', 'sm-nav-disabled');\n  }\n\n  paginationEl.append(navButton);\n}\n\nexport default function generatePagination() {\n  const pagination = document.querySelector('.sm-pagination');\n\n  if (!pagination) return;\n  const pathname = pathnameParser(window.location.pathname);\n  const { page, prev, next, pages } = pagination.dataset;\n\n  navButtonFormatter(prev, 'previous', pagination);\n\n  const paginationStart = page - 2 > 0 ? page - 2 : 1;\n\n  for (\n    let index = paginationStart - 1;\n    index < Math.min(paginationStart + 4, +pages);\n    index += 1\n  ) {\n    let urlPath;\n\n    if (index === 0 && pathname === '/') {\n      urlPath = '/';\n    } else if (index === 0 && pathname !== '/') {\n      urlPath = pathname;\n    } else {\n      urlPath = `${pathname}page/${index + 1}/`;\n    }\n\n    const div = document.createElement('div');\n    div.classList.add('sm-pagination-item');\n    const a = document.createElement('a');\n    a.setAttribute('href', urlPath);\n    a.textContent = index + 1;\n\n    if (+page === index + 1) {\n      div.classList.add('sm-current');\n    }\n    div.append(a);\n    pagination.append(div);\n  }\n\n  navButtonFormatter(next, 'next', pagination);\n}\n","export default function animateNavbar() {\n  const height = document.documentElement.clientHeight;\n  const { scrollHeight } = document.documentElement;\n  const navbar = document.querySelector('.sm-navbar-container');\n  navbar.style.transition = 'background-color .6s';\n\n  document.addEventListener('scroll', () => {\n    const scrollPercentage =\n      Math.round(window.scrollY) / (scrollHeight - height);\n\n    if (scrollPercentage > 0.15) {\n      navbar.style.backgroundColor = 'var(--surface-light)';\n    } else {\n      navbar.style.backgroundColor = 'var(--surface)';\n    }\n  });\n}\n","import '../../css/app/index.css';\n\nimport initClickHandler from './clickHandler';\nimport animateNavbar from './navbarAnimation';\nimport { determineColorModeSupport } from './colorModeToggle';\nimport keyClickHandler from './keyHandler';\nimport generatePagination from './pagination';\nimport { Saves } from './saves';\n\ninitClickHandler();\nanimateNavbar();\ndetermineColorModeSupport();\ngeneratePagination();\nkeyClickHandler();\nnew Saves().init();\n"],"names":["toggleColorMode","color","document","documentElement","setAttribute","localStorage","setItem","async","copyToClipboard","currentURL","window","location","href","navigator","clipboard","writeText","querySelectorAll","forEach","el","copyButton","currentState","innerHTML","setTimeout","Saves","constructor","e","this","id","dataset","title","items","makeArray","JSON","parse","getItem","int","generateItem","timestamp","Date","scrollPos","scrollStatus","progress","save","stringify","populateSavesMenu","updateScrollPosition","classList","add","remove","itemIndex","findIndex","splice","removeItem","length","static","data","isCurrentPageSaved","scrollY","Math","round","body","scrollHeight","clientHeight","identifySaves","domEl","button","currentPage","pathname","replace","item","step","requestAnimationFrame","bind","scrollToPos","scrollTo","top","behavior","renderSavesMenu","map","Intl","DateTimeFormat","format","join","savesMenu","querySelector","navSavesMenu","noSavesText","init","handleClick","target","closest","savedItems","find","parentElement","toggle","tagName","contains","preventDefault","code","navButtonFormatter","nextOrPrevEl","nextOrPrevName","paginationEl","icon","className","navButton","createElement","append","addEventListener","height","navbar","style","transition","scrollPercentage","backgroundColor","animateNavbar","colorPrefButtons","CSS","supports","display","determineColorModeSupport","pagination","test","split","pathnameParser","page","prev","next","pages","paginationStart","index","min","urlPath","div","a","textContent","generatePagination"],"mappings":"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"}