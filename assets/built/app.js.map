{"version":3,"file":"app.js","sources":["../../src/js/app/colorModeToggle.js","../../src/js/app/copy.js","../../src/js/app/saves.js","../../src/js/app/clickHandler.js","../../src/js/app/keyHandler.js","../../src/js/app/pagination.js","../../src/js/app/index.js"],"sourcesContent":["/*\n * Color mode toggle\n */\n\nexport function toggleColorMode(color) {\n  document.documentElement.setAttribute('data-color-pref', color);\n  localStorage.setItem('pref', color);\n}\n\nexport function determineColorModeSupport() {\n  const colorPrefButtons = document.querySelectorAll('.sm-dark-mode, .sm-light-mode');\n\n  const hasSupport = window.CSS && CSS.supports('color', 'var(--primary)');\n\n  // If the browser doesn't support custom settings, hide buttons\n  if (!hasSupport) {\n    colorPrefButtons.forEach((e) => {\n      e.style.display = 'none';\n    });\n  }\n}\n","function updateCopyButtonState() {\n  const copyButtons = document.querySelectorAll('.sm-copy-button');\n  copyButtons.forEach((el) => {\n    const copyButton = el;\n    const currentState = copyButton.innerHTML;\n    copyButton.innerHTML =\n      '<svg viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M6 4v4h12V4h2.007c.548 0 .993.445.993.993v16.014a.994.994 0 0 1-.993.993H3.993A.994.994 0 0 1 3 21.007V4.993C3 4.445 3.445 4 3.993 4H6zm2-2h8v4H8V2z\"/></svg> Copied âœ…';\n    setTimeout(() => {\n      copyButton.innerHTML = currentState;\n    }, 3000);\n  });\n}\nexport default async function copyToClipboard() {\n  const currentURL = window.location.href;\n  await navigator.clipboard.writeText(currentURL);\n  updateCopyButtonState();\n}\n","export class Saves {\n  constructor(e) {\n    this.id = (e && e.dataset.id) || null;\n    this.title = (e && e.dataset.title) || null;\n    this.items = () =>\n      Saves.makeArray(JSON.parse(localStorage.getItem('saves')));\n    this.int = null;\n  }\n\n  generateItem() {\n    return {\n      id: this.id,\n      title: this.title,\n      timestamp: new Date(),\n      scrollPos: this.scrollStatus().scrollPos,\n      progress: this.scrollStatus().progress,\n    };\n  }\n\n  save() {\n    // also need to update menu\n    localStorage.setItem(\n      'saves',\n      JSON.stringify([this.generateItem(), ...this.items()]),\n    );\n\n    this.populateSavesMenu();\n    this.updateScrollPosition();\n\n    const els = document.querySelectorAll(`button[data-id=${this.id}]`);\n    els.forEach((el) => {\n      el.classList.add('sm-love-toggle');\n    });\n  }\n\n  remove() {\n    const items = [...this.items()];\n    const itemIndex = items.findIndex((el) => this.id === el.id);\n    items.splice(itemIndex, 1);\n    localStorage.removeItem('saves');\n    if (items.length) {\n      localStorage.setItem('saves', JSON.stringify(items));\n    }\n\n    this.int = null;\n    this.populateSavesMenu();\n\n    const els = document.querySelectorAll(`button[data-id=${this.id}]`);\n    els.forEach((el) => {\n      el.classList.remove('sm-love-toggle');\n    });\n  }\n\n  static makeArray(data) {\n    if (!data) return [];\n    return data.length ? data : [data];\n  }\n\n  scrollStatus() {\n    if (this.isCurrentPageSaved() < 0) {\n      return {\n        scrollPos: null,\n        progress: null,\n      };\n    }\n    return {\n      scrollPos: window.scrollY,\n      progress: Math.round(\n        (window.scrollY /\n          (document.body.scrollHeight - document.body.clientHeight)) *\n          100,\n      ),\n    };\n  }\n\n  identifySaves() {\n    if (!this.items()) return;\n\n    this.items().forEach((el) => {\n      const { id } = el;\n      const domEl = document.querySelectorAll(`button[data-id=${id}]`);\n      if (domEl) {\n        domEl.forEach((button) => button.classList.add('sm-love-toggle'));\n      }\n    });\n  }\n\n  isCurrentPageSaved() {\n    const currentPage = window.location.pathname.replace(/\\//g, '');\n    return this.items().findIndex((item) => item.id === currentPage);\n  }\n\n  step() {\n    const itemIndex = this.isCurrentPageSaved();\n    if (itemIndex < 0) {\n      return;\n    }\n\n    const items = this.items();\n    items[itemIndex].progress = this.scrollStatus().progress;\n    items[itemIndex].scrollPos = this.scrollStatus().scrollPos;\n    localStorage.removeItem('saves');\n    localStorage.setItem('saves', JSON.stringify(items));\n    this.populateSavesMenu();\n    // TODO check if done\n\n    setTimeout(() => {\n      window.requestAnimationFrame(this.step.bind(this));\n    }, 1000);\n  }\n\n  updateScrollPosition() {\n    const items = this.items();\n    if (!items.length) return;\n    const itemIndex = this.isCurrentPageSaved();\n\n    if (itemIndex < 0) {\n      return;\n    }\n\n    window.requestAnimationFrame(this.step.bind(this));\n  }\n\n  scrollToPos() {\n    if (this.isCurrentPageSaved() > -1) {\n      const items = this.items();\n      window.scrollTo({\n        top: items[this.isCurrentPageSaved()].scrollPos,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  renderSavesMenu() {\n    const template = this.items().map(\n      (el) =>\n        `<div class=\"sm-saves\" style=\"background-image: linear-gradient(to right, hsla(\n          var(--primary-h) var(--saturation) var(--lightness) / ${\n            el.progress ? 0.35 : 0.15\n          }\n        ) ${el.progress ? el.progress - 10 : 50}%, hsla(\n          var(--primary-h) var(--saturation) var(--lightness) / 0.15\n        ) ${el.progress ? el.progress + 10 : 50}%\">\n            <div class=\"sm-saves-meta\">\n                <div>\n                    <p class=\"sm-saves-title\"><a href=\"/${el.id}\">${\n          el.title\n        }</a></p>\n                    <p class=\"sm-saves-date\">Saved on ${new Intl.DateTimeFormat().format(\n                      new Date(el.timestamp),\n                    )}</p>\n                </div>\n                <button class=\"sm-circle-icon-button sm-love-button sm-love-toggle\" data-id=\"${\n                  el.id\n                }\" data-title=\"${el.title}\" aria-label=\"Remove ${\n          el.title\n        } from favorites\">\n                <span class=\"sm-heart-outline-icon\">\n                <svg><use href=\"#sm-heart-outline-icon\"></use></svg>\n                </span>\n                <span class=\"sm-heart-fill-icon\">\n                <svg><use href=\"#sm-heart-fill-icon\"></use></svg>\n                </span>\n                </button>\n            </div>\n        </div>`,\n    );\n    return template.join('');\n  }\n\n  populateSavesMenu() {\n    const savesMenu = document.querySelector('.sm-overflow-articles');\n\n    if (!this.items().length) {\n      savesMenu.innerHTML =\n        '<p>No articles saved yet. Hit the heart to get started!</p>';\n      return;\n    }\n    savesMenu.innerHTML = this.renderSavesMenu();\n  }\n\n  init() {\n    this.identifySaves();\n    this.populateSavesMenu();\n    this.scrollToPos();\n    this.updateScrollPosition();\n  }\n}\n\nexport function save(e) {\n  console.log(e);\n  const savedItems = new Saves(e);\n\n  const items = savedItems.items();\n\n  if (!items.length) {\n    savedItems.save();\n    return;\n  }\n\n  const { id } = savedItems;\n\n  if (items.find((el) => el.id === id)) {\n    savedItems.remove();\n  } else {\n    savedItems.save();\n  }\n}\n","import { toggleColorMode } from './colorModeToggle';\nimport copyToClipboard from './copy';\nimport { save } from './saves';\n\nfunction handleClick(e) {\n  if (e.target.closest('.sm-navbar-menu-button')) {\n    document\n      .querySelector('.sm-nav-menu-container')\n      .classList.add('sm-show-menu');\n  }\n\n  if (e.target.closest('.sm-love-button')) {\n    save(e.target.closest('.sm-love-button'));\n    // e.target.closest('.sm-love-button').classList.toggle('sm-love-toggle');\n    return;\n  }\n\n  if (e.target.closest('.sm-nav-menu-close-button')) {\n    document\n      .querySelector('.sm-nav-menu-container')\n      .classList.remove('sm-show-menu');\n  }\n\n  // if (e.target.closest('.sm-search-button')) {\n  //   document.querySelector('.sm-search').classList.add('sm-show-search');\n  //   document.querySelector('#sm-search-input').focus();\n  //   return;\n  // }\n\n  // if (e.target.closest('.sm-search-form-close-button')) {\n  //   document.querySelector('.sm-search').classList.remove('sm-show-search');\n  //   return;\n  // }\n\n  // if (e.target.closest('.sm-clear-search-button')) {\n  //   document.querySelector('.sm-search-form input').value = '';\n  //   document.querySelector('.sm-search-results-container').innerHTML = '';\n  //   document\n  //     .querySelector('.sm-clear-search-button')\n  //     .classList.remove('sm-show-clear-button');\n  //   document.querySelector('.sm-search-form input').focus();\n  //   return;\n  // }\n\n  if (e.target.closest('.sm-copy-button')) {\n    copyToClipboard();\n    return;\n  }\n\n  if (e.target.closest('.sm-dark-mode')) {\n    toggleColorMode('dark');\n    return;\n  }\n\n  if (e.target.closest('.sm-light-mode')) {\n    toggleColorMode('light');\n    return;\n  }\n\n  if (e.target.closest('.sm-follow-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-follow').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-share-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-share').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-saves-button')) {\n    document.querySelector('.sm-overflow-buttons').classList.add('sm-hide');\n    document.querySelector('.sm-overflow-saves').classList.add('sm-show');\n    return;\n  }\n\n  if (e.target.closest('.sm-overflow-back')) {\n    e.target\n      .closest('.sm-overflow-back')\n      .parentElement.classList.remove('sm-show');\n    document.querySelector('.sm-overflow-buttons').classList.remove('sm-hide');\n    return;\n  }\n\n  if (e.target.closest('.sm-overflow-button')) {\n    document.querySelector('.sm-overflow-menu').classList.toggle('sm-show');\n    return;\n  }\n\n  if (e.target.tagName === 'A' && e.target.closest('.sm-overflow-menu')) {\n    return;\n  }\n\n  if (\n    document.querySelector('.sm-overflow-menu').classList.contains('sm-show')\n  ) {\n    e.preventDefault();\n    document.querySelector('.sm-overflow-menu').classList.remove('sm-show');\n  }\n}\n\nexport default function eventHandler() {\n  document.body.addEventListener('click', handleClick);\n}\n","function handleClick(e) {\n  if (e.code === 'Escape') {\n    document.querySelector('[class*=show]');\n  }\n}\n\nexport default function keyClickHandler() {\n  document.body.addEventListener('keyup', handleClick);\n}\n","function pathnameParser(pathname) {\n  if (!/page/.test(pathname)) {\n    return pathname;\n  }\n\n  return pathname.split('page')[0];\n}\n\nexport default function generatePagination() {\n  const pagination = document.querySelector('.sm-pagination');\n\n  if (!pagination) return;\n  const pathname = pathnameParser(window.location.pathname);\n  const { pages, page, prev, next } = pagination.dataset;\n\n  const previousButton = document.createElement('a');\n  previousButton.innerHTML =\n    '<svg aria-hidden=\"true\"><use href=\"#sm-left-arrow-icon\"></use></svg>';\n  previousButton.classList.add('sm-circle-icon-button');\n\n  if (prev) {\n    previousButton.setAttribute('aria-label', 'previous posts');\n    previousButton.setAttribute('href', prev);\n  } else {\n    previousButton.setAttribute('disabled', 'true');\n  }\n\n  pagination.append(previousButton);\n\n  for (let index = 0; index < pages; index += 1) {\n    let urlPath;\n\n    if (index === 0 && pathname === '/') {\n      urlPath = '/';\n    } else if (index === 0 && pathname !== '/') {\n      urlPath = pathname;\n    } else {\n      urlPath = `${pathname}page/${index + 1}/`;\n    }\n\n    const div = document.createElement('div');\n    div.classList.add('sm-pagination-item');\n    const a = document.createElement('a');\n    a.setAttribute('href', urlPath);\n    a.textContent = index + 1;\n\n    if (+page === index + 1) {\n      div.classList.add('sm-current');\n    }\n    div.append(a);\n    pagination.append(div);\n  }\n  const nextButton = document.createElement('a');\n  nextButton.innerHTML =\n    '<svg aria-hidden=\"true\"><use href=\"#sm-right-arrow-icon\"></use></svg>';\n  nextButton.classList.add('sm-circle-icon-button');\n  if (next) {\n    nextButton.setAttribute('aria-label', 'next posts');\n    nextButton.setAttribute('href', next);\n  } else {\n    nextButton.setAttribute('disabled', 'true');\n  }\n\n  pagination.append(nextButton);\n}\n","import '../../css/app/index.css';\n\nimport initClickHandler from './clickHandler';\nimport { determineColorModeSupport } from './colorModeToggle';\nimport keyClickHandler from './keyHandler';\nimport generatePagination from './pagination';\nimport { Saves } from './saves';\n\n// eslint-disable-next-line no-undef\nif (ENV === 'development') {\n  const script = document.createElement('script');\n  script.src = `http://${\n    (window.location.host || 'localhost').split(':')[0]\n  }:35729/livereload.js?snipver=1`;\n  document.head.append(script);\n  console.info('Reload script added');\n}\n\ninitClickHandler();\ndetermineColorModeSupport();\ngeneratePagination();\nkeyClickHandler();\nnew Saves().init();\n"],"names":["handleClick","initClickHandler"],"mappings":"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"}